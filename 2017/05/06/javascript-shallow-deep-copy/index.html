<html>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
    <title>JADE YEOM :: JavaScript 얕은복사, 깊은복사</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.6/semantic.min.css">
    <link rel="stylesheet" href="/stylesheets/master.css">
    <!--<link rel="stylesheet" href="stylesheets/master.css">-->
    <link rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
    <link href='http://fontsforweb.com/font/getcss?id=4008&apikey=29fd984c9ca46e99805d023815d6e70f' rel='stylesheet' type='text/css'>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css' rel='stylesheet' type='text/css'>
    <script src="https://cdn.jsdelivr.net/semantic-ui/2.2.6/semantic.min.js"></script>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.js"></script>
    <link rel="stylesheet" href="/libraries/slick/slick.css">
    <link rel="stylesheet" href="/libraries/slick/slick-theme.css">
    <script src="/libraries/slick/slick.min.js"></script>
    <script src="/libraries/parallax.min.js"></script>
    <script src="/scripts/common.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><nav class="main-nav">
    <div class="main-nav-wrapper">
        <section class="profile-box">
            <div class="thumb"></div>
            <h3 class="name"><img class="logo" src="/images/narinlogo.svg">JADE <b>YEOM</b></h3>
            <div class="divider"></div>
            <p class="comment">不狂不及<br>EXPERIMENT, FAIL, LEARN, REPEAT.</p>
            <p class="social">
                <a class="item twitter" href="https://twitter.com/endless_hack"></a>
                <a class="item facebook" href="https://www.facebook.com/yeom.jade.1"></a>
                <a class="item instagram" href="https://www.instagram.com/endlessdev"></a>
                <a class="item github" href="https://github.com/endlessdev"></a>
                <a class="item dribbble" href="https://dribbble.com/endlessdev"></a>
            </p>
        </section>
        <footer class="nav-footer">
            <h1>
                EXPERIMENT,<br>
                FAIL,<br>
                LEARN<br>
                REPEAT.
            </h1>
        </footer>
    </div>
</nav>
<nav class="main-nav-m slide-in">
    <div class="shadow"></div>
    <div class="main-nav-wrapper">
        <div class="nav-bg"></div>
        <div class="nav-content">
            <span class="ion-back-icon"></span>
            <ul class="menu">
                <li class="item"><a href="/">POSTS</a></li>
                <li class="item"><a href="/about">ABOUT</a></li>
                <li class="item"><a href="/photos">PHOTOS</a></li>
                <li class="item"><a href="/projects">PROJECTS</a></li>
            </ul>
        </div>
    </div>
</nav>
<section class="content-section">
    

<div class="mobile-top-menu">
    <div class="menu-title">
        <!--<span class="ion-menu-icon"></span>-->
        <div class="thumb"></div>
        <div class="content">
            <h2 class="title">JADE <b>YEOM</b></h2>
            <small class="summary"><b>不狂不及</b> - EXPERIMENT, FAIL, LEARN, REPEAT.</small>
        </div>
    </div>
</div>
<header class="content-header">
    <div class="ui secondary pointing menu">
        
        <a class="ui item back" href="/">
            <i class="angle left icon"></i> POSTS
        </a>
        
        <a class="item " href="/about">
            ABOUT
        </a>
        <a class="item " href="/photos">
            PHOTOS
        </a>
        <a class="item " href="https://github.com/endlessdev">
            PROJECTS
        </a>

        <div class="right menu">
            <div class="item">
                <div class="ui icon input">
                    <input type="text" placeholder="검색어를 입력해 주세요.">
                    <i class="search link icon"></i>
                </div>
            </div>
        </div>
    </div>
</header>
    <div class="content-wrapper">
        

<div class="blog-post">
    <!-- Title -->
    <section class="post-cover">
        <div class="post-cover-wrapper">
            <div class="cover-thumb" style="background-image: url('https://udemy-images.udemy.com/course/750x422/672274_cd11_2.jpg')"></div>
            <div class="cover-darker"></div>
            <div class="cover-content">
                <div class="cover-content-wrapper">
                    <h1 class="blog-post-title">
                        <a>
                            JavaScript 얕은복사, 깊은복사
                        </a>
                    </h1>
                    <p class="blog-post-meta">
                    <span class="meta-item date">
                    <i class="calendar outline icon"></i> 2017-05-06
                        
                    </span>
    
    <span class="meta-item categories">
                        <i class="archive icon"></i>
        
        <a href="/categories/Javascript/">Javascript</a>
                        </span>
    
    
</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Date and Author -->
    <!-- Content -->
    <div class="blog-post-content">
        <p>자바스크립트 객체 복사에 관한 내용이다. 일반적으로 기본 자료형(Primitive Type) 을 변수에 할당하면 단순 값만 복사되지만,  참조 자료형(Reference Type) 같은 경우는 데이터에 대한 참조 값이 저장된다.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> primitiveType = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> foo = primitiveType;</div><div class="line">primitiveType = <span class="number">2</span>;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(primitiveType, foo); <span class="comment">// 1,2</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> referenceType = [<span class="string">"S"</span>, <span class="string">"E"</span>, <span class="string">"X"</span>, <span class="string">"Y"</span>];</div><div class="line"><span class="keyword">var</span> bar = referenceType;</div><div class="line">bar[<span class="number">0</span>] = <span class="string">"G"</span></div><div class="line">bar[<span class="number">1</span>] = <span class="string">"A"</span></div><div class="line">bar[<span class="number">2</span>] = <span class="string">"A"</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(referenceType, bar) <span class="comment">//["G", "A", "A", "Y"], ["G", "A", "A", "Y"]</span></div><div class="line"><span class="built_in">console</span>.log(referenceType == bar) <span class="comment">//true</span></div></pre></td></tr></table></figure></p>
<p>예제를 봐도 알 수 있듯이 변수는 모두 메모리에 저장된다. 그리고 참조 자료형을 가지고 있는 변수값을 다른 변수에 할당하면 메모리 주소를 가리키게 된다. 변수 여러개로 값 하나를 가르키는 것이다. 개념은 포인터와 유사하다.</p>
<p>이와 같은 현상을 <strong>Shallow Copy (얕은 복사)</strong> 라고 한다. 이걸 방지하려면 <strong>Deep Copy (깊은 복사)</strong>를 해야한다. 변수에 여러번 할당하면, 메모리에 값을 여러개 만드는거다. 방법은 간단히 array.slice(0)를 해주면 된다. 0개만큼 값을 자르기 때문에, 그대로 반환하고 값은 따로 복사되기 때문이다. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> referenceType = [<span class="string">"S"</span>, <span class="string">"E"</span>, <span class="string">"X"</span>, <span class="string">"Y"</span>];</div><div class="line"><span class="keyword">var</span> bar = <span class="built_in">Array</span>.prototype.slice.call(referenceType);</div><div class="line">bar[<span class="number">0</span>] = <span class="string">"G"</span></div><div class="line">bar[<span class="number">1</span>] = <span class="string">"A"</span></div><div class="line">bar[<span class="number">2</span>] = <span class="string">"A"</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(referenceType, bar) <span class="comment">//["S", "E", "X", "Y"], ["G", "A", "A", "Y"]</span></div><div class="line"><span class="built_in">console</span>.log(referenceType == bar) <span class="comment">//false</span></div></pre></td></tr></table></figure>
    </div>
    <div class="ui divider blog-post-end-line">
    </div>
    <!-- Tags and Categories links -->
    
<div id="disqus_thread"></div>
<script>
    var disqus_shortname = 'endlessdev';
    var disqus_developer = 1;
    
    var disqus_url = 'http://endlessdev.github.io/2017/05/06/javascript-shallow-deep-copy/';
    
    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//go.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

</div>

        <footer class="footer-section">
    <div class="ui divider"></div>
    <div class="footer-wrapper">
        <div class="ui vertical footer segment">
            <div class="ui center aligned container">
                <div class="ui stackable grid">
                    <div class="three wide column">
                        <h4 class="ui header">소셜 네트워크</h4>
                        <div class="ui link list">
                            <a href="#" class="item disabled">페이스북</a>
                            <a href="#" class="item disabled">트위터</a>
                            <a href="#" class="item disabled">인스타그램</a>
                            <a href="#" class="item disabled">깃허브</a>
                            <a href="#" class="item disabled">드리블</a>
                        </div>
                    </div>
                    <div class="eight wide right floated column">
                        <h4 class="ui header" style="color: #E91E63;">제이드에게 후원하기</h4>
                        <p>이 프로젝트를 아래의 가상화폐 지갑을 통해 후원할 수 있습니다.<br>후원 자금은 개발자의 사리사욕을 위해 사용됩니다.</p>
                        <a class="ui image label" style="margin-bottom:5px;">
                            <img src="https://bitcoin.org/img/icons/opengraph.png">
                            Bitcoin
                            <div class="detail">1J9kYjLznSyKhuLPNj9d6eVZ9sJUueg4Y9</div>
                        </a><br>
                        <a class="ui image label">
                            <img src="https://maxcdn.icons8.com/Share/icon/color/Logos//ethereum1600.png">
                            Ethereum
                            <div class="detail">0xb31d4ec46cd1245d338bb02fb1f2fbdcf11f01f2</div>
                        </a>
                    </div>
                </div>
                <div class="ui inverted section divider"></div>
                <img src="/images/narin_ci.svg" class="ui centered small image">
                <div class="ui horizontal small link list">
                    <span class="item">Copyright © 2017 Narin Inc. All rights reserved.</span>
                </div>
            </div>
        </div>
    </div>
</footer>
    </div>
</section><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>